---
import BaseHead from "../components/BaseHead.astro";
import Nav from "../components/Nav.astro";
import Footer from "../components/Footer.astro";
import ThemeRetrieval from "../components/ThemeRetrieval.astro";
import Tag from "../components/Tag.astro";
import formatAsTitle from "../lib/formatAsTitle";

const { frontmatter } = Astro.props;

console.log(formatAsTitle(Astro.url.pathname));

const title = formatAsTitle(Astro.url.pathname);
---

<BaseHead title={title} />
<Nav />
<article>
  <h1 class="ptitle">{title}</h1>
  <slot />

  <div class="formatter">
    <p>âˆž {new Date(frontmatter.pubDate).toISOString().slice(0, 10)}</p>
    <p>~ Koehn Humphries</p>
    <span>
      # {frontmatter.tags.map((tag) => <Tag tag={tag} />)}
    </span>
  </div>
</article>
<Footer />

<ThemeRetrieval />
